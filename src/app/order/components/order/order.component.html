<mat-horizontal-stepper>
    <mat-step>
        <ng-template>Sus compras</ng-template>
             <div *ngIf="(products$ | async ) as products">
                <p *ngIf="products.length == 0">No hay productos</p>
                <table mat-table [dataSource]="products | deleteRepeats" class="mat-elevation-z8">
                    <ng-container matColumnDef="Imagen">
                        <th mat-header-cell *matHeaderCellDef> Imagen </th>
                        <td mat-cell *matCellDef="let products">
                            <img [src]="products.img | async" alt="">
                        </td>
                    </ng-container>

                    <ng-container matColumnDef="Producto">
                        <th mat-header-cell *matHeaderCellDef> Producto </th>
                        <td mat-cell *matCellDef="let products">{{products.producto}}
                            <ul>
                                <li *ngIf="products.sabores[0]">
                                   {{products.sabores[0].producto}}
                                </li>
                                <li *ngIf="products.sabores[1]">
                                 {{products.sabores[1].producto}}
                              </li>
                              <li *ngIf="products.sabores[2]">
                                 {{products.sabores[2].producto}}
                              </li>
                            </ul>
                        </td>
                    </ng-container>

                    <ng-container matColumnDef="Adicionales">
                        <th mat-header-cell *matHeaderCellDef> Adicionales </th>
                        <td mat-cell *matCellDef="let products">
                            <ul>
                                <li *ngIf="products.crema">
                                   {{products.crema.producto}}
                                </li>
                                <li *ngIf="products.syrups[0]">
                                    {{products.syrups[0].producto}}
                                 </li>
                                <li *ngIf="products.topping">
                                 {{products.topping.producto}}
                              </li>
                            </ul>
                        </td>
                    </ng-container>

                    <ng-container matColumnDef="Precio">
                        <th mat-header-cell *matHeaderCellDef> Precio </th>
                        <td mat-cell *matCellDef="let products">
                           <ul>
                               <li *ngIf="!products.crema">
                                    {{products.precioVenta | currency}}
                               </li>
                               <li *ngIf="products.crema">
                                    {{products.precioVenta + products.crema.precioVenta | currency}}
                               </li>
                           </ul>
                        </td>
                    </ng-container>

                    <!-- <ng-container matColumnDef="Unidades">
                        <th mat-header-cell *matHeaderCellDef> Unidades </th>
                        <td mat-cell *matCellDef="let products">
                           {{products | cartrepeat }}
                        </td>
                    </ng-container> -->

                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                </table>
            </div>
    </mat-step>
    <mat-step>
        <ng-template>Datos personales</ng-template>
        <h1>Contenido</h1>
    </mat-step>
    <mat-step>
        <ng-template>Pago</ng-template>
        <h1>Contenido</h1>
    </mat-step>
</mat-horizontal-stepper>
